---
import { ArrowRight, Brain } from "lucide-react";
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

interface Props {
    href: string;
    logo?: ImageMetadata;
    logoDark?: ImageMetadata;
    logoAlt: string;
    title: string;
    description: string;
    ctaText: string;
    color: "red" | "orange";
    isGpt?: boolean;
}

const {
    href,
    logo,
    logoDark,
    logoAlt,
    title,
    description,
    ctaText,
    color,
    isGpt = false,
} = Astro.props;

const colorStyles = {
    red: {
        border: "hover:border-red-600/50",
        shadow: "hover:shadow-red-600/5",
        bg: "bg-red-600/10",
        text: "group-hover:text-red-600",
        textBase: "text-red-600",
    },
    orange: {
        border: "hover:border-orange-500/50",
        shadow: "hover:shadow-orange-500/5",
        bg: "bg-orange-500/10",
        text: "group-hover:text-orange-500",
        textBase: "text-orange-500",
    },
};

const styles = colorStyles[color];
---

<a
    href={href}
    target="_blank"
    rel="noopener noreferrer"
    class={`group relative p-8 bg-panel rounded-3xl border border-border ${styles.border} hover:shadow-2xl ${styles.shadow} hover:-translate-y-2 transition-all duration-300 flex flex-col`}
>
    <div
        class={`mb-6 w-16 h-16 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 p-2 ${styles.bg} ${isGpt ? styles.textBase : ""}`}
    >
        {
            isGpt ? (
                <Brain size={32} />
            ) : (
                <>
                    {logo && (
                        <Image
                            src={logo}
                            alt={logoAlt}
                            class={`w-full h-full object-contain ${logoDark ? "dark:hidden" : ""}`}
                        />
                    )}
                    {logoDark && (
                        <Image
                            src={logoDark}
                            alt={logoAlt}
                            class="w-full h-full object-contain hidden dark:block"
                        />
                    )}
                </>
            )
        }
    </div>
    <h3
        class={`text-xl font-bold mb-3 text-foreground ${styles.text} transition-colors duration-300`}
    >
        {title}
    </h3>
    <p class="text-sm text-muted leading-relaxed mb-6 flex-grow">
        {description}
    </p>
    <div
        class={`flex items-center ${styles.textBase} font-bold text-sm opacity-0 transform translate-y-2 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300`}
    >
        {ctaText}
        <ArrowRight
            size={16}
            className="ml-2 group-hover:translate-x-1 transition-transform"
        />
    </div>
</a>
