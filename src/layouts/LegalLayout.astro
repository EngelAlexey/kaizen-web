---
import Layout from "./Layout.astro";
import { useTranslations } from "../utils/i18n";

interface Props {
    title: string;
    description: string;
    lang: "es" | "en";
    lastUpdated: string;
}

const { title, description, lang, lastUpdated } = Astro.props;
const t = useTranslations(lang);
---

<Layout title={title} description={description} lang={lang}>
    <main class="pt-32 pb-24 px-6">
        <div class="max-w-3xl mx-auto">
            <header class="mb-12 text-center">
                <h1
                    class="text-4xl md:text-5xl font-black mb-4 bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent"
                >
                    {title}
                </h1>
                <div
                    class="flex items-center justify-center gap-2 text-muted-foreground text-sm font-medium"
                >
                    <span class="w-8 h-px bg-border"></span>
                    {t("legal.update")}: {lastUpdated}
                    <span class="w-8 h-px bg-border"></span>
                </div>
            </header>

            <div class="prose-legal max-w-none">
                <slot />
            </div>
        </div>
    </main>
</Layout>

<style is:global>
    /* Custom typography tweaks for legal documents (Plain CSS for Build Stability) */
    .prose-legal h2 {
        margin-top: 3rem;
        margin-bottom: 1.5rem;
        font-size: 1.5rem;
        line-height: 2rem;
        font-weight: 900;
        border-bottom: 1px solid var(--color-border);
        padding-bottom: 0.5rem;
        color: var(--color-foreground);
    }
    .prose-legal h3 {
        margin-top: 2rem;
        margin-bottom: 1rem;
        font-size: 1.25rem;
        line-height: 1.75rem;
        font-weight: 700;
        color: var(--color-foreground);
    }
    .prose-legal p {
        line-height: 1.625;
        margin-bottom: 1.5rem;
        color: var(--color-muted);
    }
    .prose-legal ul,
    .prose-legal ol {
        margin-bottom: 2rem;
        list-style-type: disc;
        padding-left: 1.5rem;
    }
    .prose-legal li {
        margin-bottom: 0.5rem;
        color: var(--color-muted);
    }
    .prose-legal strong {
        font-weight: 700;
        color: var(--color-foreground);
    }
</style>
